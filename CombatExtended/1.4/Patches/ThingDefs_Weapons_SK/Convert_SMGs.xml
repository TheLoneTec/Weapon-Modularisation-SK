<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- Not Big Enough for Underbarrel -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="RF_Gun_Tecnine"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="RF_Gun_Tecnine"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.01,0.1,0)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.5,-0.1,0.02)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0,0.1,0.015625)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.29,0.1,0.03)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- RF_Gun_TMP -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="RF_Gun_TMP"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="RF_Gun_TMP"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0.04,0.1,0.1)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.5,-0.1,0.06)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0,0.1,0.06)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.269375,0.1,0.059)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- RF_Gun_GreaseGun -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="RF_Gun_GreaseGun"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="RF_Gun_GreaseGun"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0.05,0.1,-0.01)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.52,-0.1,0.01)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0,0.1,0.015)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.379375,0.1,0.011)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Big Enough for Underbarrel -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="Gun_UMP45Gun"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_UMP45Gun"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.02,0.1,0.05)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.5,-0.1,0.02)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.08,0.1,0.024)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<allowEmpty>true</allowEmpty>
						<postion>(0.01,0.1,-0.004)</postion>
						<filter>
							<thingDefs>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.329375,0.1,0.002)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Gun_HeavySMG -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="Gun_HeavySMG"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_HeavySMG"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0,0.1,0.02)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.5,-0.1,0.02)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.08,0.1,0.022)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<allowEmpty>true</allowEmpty>
						<postion>(0.02,0.1,-0.012)</postion>
						<filter>
							<thingDefs>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.359375,0.1,0.012)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- MP5 -->
	
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="Gun_MP5Gun"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_MP5Gun"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0.02,0.1,0.03)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.5,-0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.08,0.1,0.017)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<allowEmpty>true</allowEmpty>
						<postion>(0.04,0.1,-0.01)</postion>
						<filter>
							<thingDefs>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.4,0.1,0.01)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Gun_MachinePistol -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="Gun_MachinePistol"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_MachinePistol"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.12,0.1,-0.02)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.55,-0.1,0.05)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0,0.1,0.0655)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.27675,0.1,0.042)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- RF_Gun_Skorpion -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="RF_Gun_Skorpion"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="RF_Gun_Skorpion"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0,0.1,0)</postion>
						<defultThing>Module_HvySMG_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_MagClip</li>
								<li>Module_HvySNG_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_HvySMG_MagClip>1</Module_HvySMG_MagClip>
							<Module_HvySNG_MagDrum>1</Module_HvySNG_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.46,-0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.05,0.1,0.015625)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<allowEmpty>true</allowEmpty>
						<postion>(-0.05,0.1,-0.016)</postion>
						<filter>
							<thingDefs>
								<li>Module_VerticalGrip</li>
								<!--<li>Module_AngledGrip</li>-->
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.229375,0.1,0.0078125)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- RF_Gun_Vector -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="RF_Gun_Vector"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>(1.7,1.3)</DrawSize>
		  </li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="RF_Gun_Vector"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModHvySMG_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.1,0.1,-0.05)</postion>
						<defultThing>Module_Light_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Light_MagClip</li>
								<li>Module_Light_MagDrum</li>
							</thingDefs>
						</filter><!--
						<randomThingDefWeights>
							<Module_Light_MagClip>1</Module_Light_MagClip>
							<Module_Light_MagDrum>1</Module_Light_MagDrum>
						</randomThingDefWeights>-->
					</li>
					<li>
						<id>ModHvySMG_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.4,-0.1,0.04)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
								<li>Module_HvySMG_Stock</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.1,0.1,0.02825)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<allowEmpty>true</allowEmpty>
						<postion>(0.01,0.1,0.01)</postion>
						<filter>
							<thingDefs>
								<li>Module_VerticalGrip</li>
								<!--<li>Module_AngledGrip</li>-->
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModHvySMG_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.28,0.1,0.002)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

</Patch>